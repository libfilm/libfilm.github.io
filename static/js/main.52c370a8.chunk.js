(this["webpackJsonplib-films"]=this["webpackJsonplib-films"]||[]).push([[0],{35:function(e,t,a){e.exports=a(82)},40:function(e,t,a){},41:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(11),r=a.n(i),o=(a(40),a(12)),s=a(3),l=(a(41),a(42),a(6)),m=a(31),u=Object(m.a)({url_api:"https://videocdn.tv",api_token:"fLp8cUIIj0r4hSbAQHaA35fY2yHBEV4f"}),d=a(14),p=a.n(d),f=a(20),v=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function b(e){return document.title="\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430",c.a.createElement("div",null,c.a.createElement("h2",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),c.a.createElement("a",{href:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),c.a.createElement("br",null))}function E(e){var t=Object(n.useState)({prev:void 0,current:void 0,next:void 0}),a=Object(l.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(void 0),m=Object(l.a)(o,2),u=(m[0],m[1]),d=Object(s.e)(),p=d.id,f=d.type,v=d.season,E=d.ep;if(Object(n.useEffect)((function(){void 0!==e.info.episodes&&(u(e.info.episodes.sort((function(e,t){if(e.season_num<t.season_num)return-1}))),void 0!==e.info.episodes&&e.info.episodes.map((function(t,a){t.num===e.episode&&t.season_num===Number(e.season)&&r({prev:e.info.episodes[a-1],current:t,next:e.info.episodes[a+1]})})))}),[]),"episode"===e.type||"movie"===e.type){if(void 0===i.current&&"episode"===e.type)return c.a.createElement(b,null);var _=e.info;return"episode"===e.type?document.title="".concat(_.ru_title," ").concat(i.current.season_num," \u0441\u0435\u0437\u043e\u043d ").concat(Number(i.current.num)," \u0441\u0435\u0440\u0438\u044f"):document.title=_.ru_title,c.a.createElement("div",{className:"content"},c.a.createElement("ol",{className:"breadcrumb"},c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement("a",{href:window.location.host},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),void 0!==_.episodes&&c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement("a",{href:"../".concat(p)},_.ru_title)),c.a.createElement("li",{className:"breadcrumb-item","aria-current":"page"},void 0!==_.episodes?"".concat(i.current.season_num," \u0441\u0435\u0437\u043e\u043d ").concat(i.current.num," \u0441\u0435\u0440\u0438\u044f"):_.ru_title)),c.a.createElement("h2",{className:"title"},void 0!==_.episodes?c.a.createElement("a",{href:"../".concat(p)},_.ru_title):_.ru_title),void 0!==i.current&&c.a.createElement("h3",{className:"title"},i.current.ru_title),c.a.createElement("div",{className:"watch__year"}," \u0414\u0430\u0442\u0430 \u0412\u044b\u0445\u043e\u0434\u0430: ","episode"===e.type?new Date(i.current.released).toLocaleDateString():new Date(_.released).toLocaleDateString()),c.a.createElement("div",{className:"embed-responsive embed-responsive-4by3 watch__iframe"},c.a.createElement("iframe",{className:"embed-responsive-item",src:"episode"===e.type?_.iframe_src+"?season=".concat(v,"&episode=").concat(Number(E.split("-")[0]),"&nocontrol=1"):_.iframe_src,allowFullScreen:"allowfullscreen"})),c.a.createElement("div",{className:"d-flex justify-content-between switch-episode"},void 0!==i.prev&&c.a.createElement("a",{href:"/".concat(f,"/").concat(p,"/season-").concat(i.prev.season_num,"-episode-").concat(i.prev.num),className:"badge badge-primary"},i.prev.season_num," \u0441\u0435\u0437\u043e\u043d ",i.prev.num," \u0441\u0435\u0440\u0438\u044f"),void 0!==_.episodes&&c.a.createElement("a",{href:".",className:"badge badge-primary"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439"),void 0!==i.next&&c.a.createElement("a",{href:"/".concat(f,"/").concat(p,"/season-").concat(i.next.season_num,"-episode-").concat(i.next.num),className:"badge badge-primary"},i.next.season_num," \u0441\u0435\u0437\u043e\u043d ",i.next.num," \u0441\u0435\u0440\u0438\u044f")))}if("episode_list"===e.type){document.title="".concat(e.info.ru_title," c\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0438\u0439");for(var h=e.info;0<h.season_count;)return c.a.createElement("div",{className:"content"},h.episodes.map((function(e,t){return c.a.createElement("div",{className:"content-episode",key:t},c.a.createElement("a",{href:"/".concat(f,"/").concat(p,"/season-").concat(e.season_num,"-episode-").concat(e.num),className:"badge badge-primary"},e.season_num," \u0441\u0435\u0437\u043e\u043d ",e.num," \u0441\u0435\u0440\u0438\u044f"))})))}}function _(e){return c.a.createElement("h1",null,"Loading...")}function h(e){return document.title="\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430",c.a.createElement("div",null,c.a.createElement("h2",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),c.a.createElement("a",{href:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),c.a.createElement("br",null))}function y(e){var t,a=Object(s.e)(),i=a.id,r=a.type,o=a.season,m=a.ep,d=Object(n.useState)(void 0),p=Object(l.a)(d,2),f=p[0],b=p[1];switch(r){case"movie":t="movies";break;case"anime_tv_series":t="anime-tv-series";break;case"tv_series":t="tv-series";break;case"anime":t="animes";break;default:t=void 0}if(Object(n.useEffect)((function(){void 0!==t&&(v("".concat(u.url_api,"/api/").concat(t,"/?api_token=").concat(u.api_token,"&id=").concat(i,"}")).then((function(e){b(e)})).catch(b(void 0)),b("load"))}),[]),"load"===f)return c.a.createElement(_,null);if(void 0!==f&&1===f.data.length){var y=f.data[0];return-1!==["tv_series","anime_tv_series"].indexOf(r)?void 0!==o&&void 0!==m?c.a.createElement(E,{type:"episode",info:y,episode:m,season:o}):c.a.createElement(E,{type:"episode_list",info:y}):c.a.createElement(E,{type:"movie",info:y})}return c.a.createElement(h,null)}function k(e){var t=Object(n.useState)(void 0),a=Object(l.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)(!1),m=Object(l.a)(s,2),d=m[0],b=m[1],E=Object(n.useState)({movies:!0,serials:!0,animes:!0,anime_serials:!0}),_=Object(l.a)(E,2),h=_[0],y=(_[1],!1);function k(){return(k=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=17;break}if(a=[],y=!0,!h.movies){e.next=6;break}return e.next=6,v("".concat(u.url_api,"/api/movies?api_token=").concat(u.api_token,"&title=").concat(t,"&limit=5")).then((function(e){a=a.concat(e.data)}));case 6:if(!h.serials){e.next=9;break}return e.next=9,v("".concat(u.url_api,"/api/tv-series?api_token=").concat(u.api_token,"&title=").concat(t,"&limit=5")).then((function(e){a=a.concat(e.data)}));case 9:if(!h.animes){e.next=12;break}return e.next=12,v("".concat(u.url_api,"/api/animes?api_token=").concat(u.api_token,"&title=").concat(t,"&limit=5")).then((function(e){a=a.concat(e.data)}));case 12:if(!h.anime_serials){e.next=15;break}return e.next=15,v("".concat(u.url_api,"/api/anime-tv-series?api_token=").concat(u.api_token,"&title=").concat(t,"&limit=5")).then((function(e){a=a.concat(e.data)}));case 15:y=!1,r(a);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement("div",{className:"search"},c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){e.target.value.length>=3?function(e){k.apply(this,arguments)}(e.target.value):r(void 0)},onFocus:function(){return b(!0)},"aria-label":"Default",placeholder:"\u041f\u043e\u0438\u0441\u043a...","aria-describedby":"inputGroup-sizing-default"}),d&&c.a.createElement("span",{className:"search__close",onClick:function(){b(!1)}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")),d&&c.a.createElement("span",null,"\u041f\u043e\u0438\u0441\u043a \u043e\u0442 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),"object"===typeof h&&d&&c.a.createElement("ul",{className:"filter"},c.a.createElement("li",{className:"filter-item"},c.a.createElement("input",{type:"checkbox",defaultChecked:h.movies,onChange:function(){h.movies=!h.movies},id:"filter_film"}),c.a.createElement("label",{for:"filter_film"},"\u0424\u0438\u043b\u044c\u043c\u044b")),c.a.createElement("li",{className:"filter-item"},c.a.createElement("input",{type:"checkbox",defaultChecked:h.serials,onChange:function(){h.serials=!h.serials},id:"filter_serial"}),c.a.createElement("label",{for:"filter_serial"},"\u0421\u0435\u0440\u0438\u0430\u043b\u044b")),c.a.createElement("li",{className:"filter-item"},c.a.createElement("input",{type:"checkbox",defaultChecked:h.anime_serials,onChange:function(){h.anime_serials=!h.anime_serials},id:"filter_anime"}),c.a.createElement("label",{for:"filter_anime"},"\u0410\u043d\u0438\u043c\u0435")),c.a.createElement("li",{className:"filter-item"},c.a.createElement("input",{type:"checkbox",defaultChecked:h.animes,onChange:function(){h.animes=!h.animes},id:"filter_anime-films"}),c.a.createElement("label",{for:"filter_anime-films"},"\u0410\u043d\u0438\u043c\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"))),void 0!==i&&d&&"object"===typeof i&&c.a.createElement(o.a,{getUserConfirmation:function(e,t){t(window.confirm(e))}},c.a.createElement("ul",{className:"search-list"},i.map((function(e,t){return c.a.createElement("li",{className:"search-list__item",key:t},c.a.createElement("a",{href:"".concat(window.location.origin,"/").concat(e.content_type,"/").concat(e.id,"/")},e.ru_title))})))),y&&c.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."))}var N=a(34);var g=Object(N.a)((function(){return c.a.createElement("div",{className:"wrap"},c.a.createElement(k,null),c.a.createElement(o.a,{basename:""},c.a.createElement(s.a,{path:"/about"},"about"),c.a.createElement(s.a,{path:"/:type/:id/season-:season-episode-:ep",exact:!0,component:y}),c.a.createElement(s.a,{path:"/:type/:id",exact:!0,component:y}),c.a.createElement(s.a,{exact:!0,path:"/"},c.a.createElement("div",null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430"))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.52c370a8.chunk.js.map